angular.module("dashBoard.pagesCtrl").controller("dashBoardManageCommentsController",["$scope","pageLoaders","commentFactory",function(e,t,n){var r;return r=0,e.comments=[],e.fetchPageList=function(){return t.fetchpageNames().then(function(t){return e.pages=t.data.results},function(e){return Materialize.toast("Something went wrong",4e3)})},e.fetchComments=function(t){return t===0&&(e.comments=[]),_.isUndefined(e.pageTitle)||_.isNull(e.pageTitle)||_.isEmpty(e.pageTitle)?(Materialize.toast("Please choose a post",4e3),!1):n.fetchComments(t,e.pageTitle.id).then(function(t){var n;return t.data.status==="Success"?(n=JSON.parse(t.data.results),_.each(n,function(t){return e.comments.push(t)})):Materialize.toast(t.data.message,4e3)},function(e){return Materialize.toast("Something went wrong",4e3)})},e.loadMore=function(){return r=e.comments.length,e.fetchComments(r)},e.deleteComment=function(t){var r;return r=e.comments[t].id,n.deleteComment(r).then(function(n){return n.data.status==="Success"?(e.comments.splice(t,1),Materialize.toast(n.data.message,4e3)):Materialize.toast(n.data.message,4e3)},function(e){return Materialize.toast("Something went wrong",4e3)})}}]);